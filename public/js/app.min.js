var hangmanApp=angular.module("hangmanApp",["ngStorage"]);hangmanApp.controller("GameController",["$scope","$http","$localStorage","$element",function(e,a,s){e.activeGame=!1,e.youLost=!1,e.youWin=!1,e.currentWord="",e.workingWord=[],e.guessesLeft=10,e.charactersGuessed=[],e.characters=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.$storage=s.$default({hangman:{wins:0,loses:0,streak:0,lastPlayed:""}}),e.newGame=function(){a({method:"GET",url:"/new-game"}).success(function(a){e.currentWord=a.word,e.workingWord=a.workingWord,e.activeGame=!0,e.youLost=!1,e.youWin=!1,e.guessesLeft=10,e.charactersGuessed=[]})},e.makeGuess=function(s){e.youLost||e.youWin||(a({method:"POST",url:"/check-character",data:{character:s}}).success(function(a){e.charactersGuessed.push(s),e.workingWord=a.workingWord,a.characterStatus?-1===e.workingWord.indexOf(" ")&&(e.youWin=!0,e.$storage.hangman.wins=e.$storage.hangman.wins+1,e.$storage.hangman.streak=e.$storage.hangman.streak+1):(e.guessesLeft=e.guessesLeft-1,0===e.guessesLeft&&(e.youLost=!0,e.$storage.hangman.loses=e.$storage.hangman.loses+1,e.$storage.hangman.streak=0))}),e.pendingCharacter=function(e){return" "===e?!0:!1})}}]);